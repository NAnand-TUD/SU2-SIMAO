%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SU2 configuration file                                                 %
% Case description: 2D airfoil FSI with radial basis function interp.    %
% Institution: Imperial College London                                   %
% File Version 6.2.0 "Falcon"                                            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Interface options ---------------------------------------------------- %

KIND_INTERPOLATION = RADIAL_BASIS_FUNCTION
CONSERVATIVE_INTERPOLATION = NO
KIND_RADIAL_BASIS_FUNCTION = WENDLAND_C2
RADIAL_BASIS_FUNCTION_PARAMETER = 6
RADIAL_BASIS_FUNCTION_POLYNOMIAL_TERM = NO

INNER_ITER = 1
WRT_BINARY_RESTART=NO
READ_BINARY_RESTART=NO
%
% Physics -------------------------------------------------------------- %
PHYSICAL_PROBLEM= MODAL
MATH_PROBLEM= DIRECT
%
% Boundary conditions -------------------------------------------------- %
%%MARKER_CLAMPED = ( clamped )
MARKER_CUSTOM= ( wing_s )
%
% DYNAMIC ANALYSIS TYPE: NO= Static, YES= Time-Domain, HARMONIC-BALANCE, FORCED= forced motion 
DYNAMIC_ANALYSIS= YES
DYNAMIC_METHOD= NO
DYN_TIMESTEP= 0.005
DYN_TIME= 0.1
TIME_STEP= 0.005
% Common numerics settings --------------------------------------------- %
REF_DIMENSIONALIZATION= DIMENSIONAL
%
% modal analysis parameters ---------------------------------------------%
% number of modes to be retained and plotted
NUMBER_OF_MODES= 4
%
% Flutter Index
FLUTTER_SPEED_INDEX= 0.05
REF_LENGTH= 1.8288
%
% Flow numerics -------------------------------------------------------- %
CONV_NUM_METHOD_FLOW= JST
JST_SENSOR_COEFF= ( 0.5, 0.02 )
TIME_DISCRE_FLOW= EULER_IMPLICIT
TIME_DISCRE_FEA= RK4
%
% Convergence criteria ------------------------------------------------- %
EXT_ITER= 1
% interaction
FSI_ITER= 1
% if running from scratch this helps a bunch
%RAMP_LOADING= YES
%RAMP_FSI_ITER= 5
BGS_RELAXATION= FIXED_PARAMETER
STAT_RELAX_PARAMETER= 0.7
RESIDUAL_REDUCTION_FSI= 8
RESIDUAL_MINVAL_FSI= -8
% solid
NONLINEAR_FEM_INT_ITER= 30
RESIDUAL_FEM_UTOL= -6.0
RESIDUAL_FEM_RTOL= -6.0
RESIDUAL_FEM_ETOL= -6.0
%
% In\Out --------------------------------------------------------------- %
MESH_FILENAME= goland_FE.su2
MESH_FORMAT= SU2
MULTIZONE_MESH = NO
%
RESTART_SOL= NO
SOLUTION_FLOW_FILENAME= solution_fluid.dat
SOLUTION_STRUCTURE_FILENAME= solution_solid.dat
WRT_SOL_FREQ= 999999
RESTART_FLOW_FILENAME= restart_fluid.dat
RESTART_STRUCTURE_FILENAME= restart_solid.dat
%
OUTPUT_FORMAT= PARAVIEW
VOLUME_FLOW_FILENAME= structure
SURFACE_FLOW_FILENAME= surface_structure
VOLUME_STRUCTURE_FILENAME= solid
VISUALIZE_VOLUME_DEF= YES
MARKER_MOVING= ( wing_s )
%
WRT_CON_FREQ= 10
CONV_FILENAME= history

% ----------------------- DESIGN VARIABLE PARAMETERS --------------------------%
%
% Kind of deformation (TRANSLATION, ROTATION, SCALE,
%                      FFD_SETTING,
%                      FFD_CONTROL_POINT, FFD_CAMBER, FFD_THICKNESS
%                      FFD_NACELLE, FFD_TWIST, FFD_ROTATION,
%                      FFD_CONTROL_POINT_2D, FFD_CAMBER_2D, FFD_THICKNESS_2D,
%                      HICKS_HENNE, PARABOLIC, NACA_4DIGITS, AIRFOIL)
DV_KIND= SURFACE_FILE
%%DV_KIND= SCALE_GRID
%
% Marker of the surface in which we are going apply the shape deformation
DV_MARKER= ( wing_s, wing_s  )
%
% Parameters of the shape deformation
% - TRANSLATION ( x_Disp, y_Disp, z_Disp ), as a unit vector
% - ROTATION ( x_Orig, y_Orig, z_Orig, x_End, y_End, z_End )
% - SCALE ( 1.0 )
% - FFD_SETTING ( 1.0 )
% - FFD_CONTROL_POINT ( FFD_BoxTag, i_Ind, j_Ind, k_Ind, x_Disp, y_Disp, z_Disp )
% - FFD_CAMBER ( FFD_BoxTag, i_Ind, j_Ind )
% - FFD_THICKNESS ( FFD_BoxTag, i_Ind, j_Ind )
% - FFD_TWIST_ANGLE ( FFD_BoxTag, x_Orig, y_Orig, z_Orig, x_End, y_End, z_End )
% - FFD_ROTATION ( FFD_BoxTag, x_Orig, y_Orig, z_Orig, x_End, y_End, z_End )
% - FFD_CONTROL_POINT_2D ( FFD_BoxTag, i_Ind, j_Ind, x_Disp, y_Disp )
% - FFD_CAMBER_2D ( FFD_BoxTag, i_Ind )
% - FFD_THICKNESS_2D ( FFD_BoxTag, i_Ind )
% - HICKS_HENNE ( Lower Surface (0)/Upper Surface (1)/Only one Surface (2), x_Loc )
% - PARABOLIC ( Center, Thickness )
% - NACA_4DIGITS ( 1st digit, 2nd digit, 3rd and 4th digit )
% - AIRFOIL ( 1.0 )
%DV_PARAM= ( 0.548066491688539 )
%
% Value of the shape deformation
%DV_VALUE= 0.05
